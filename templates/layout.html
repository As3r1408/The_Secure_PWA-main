<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <!-- Security Headers -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline';"
    />
    <meta http-equiv="X-Frame-Options" content="DENY" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="Referrer-Policy" content="no-referrer" />
    <meta
      http-equiv="Permissions-Policy"
      content="geolocation=(), microphone=(), camera=()"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <title>The Secure PWA</title>
    <link
      rel="manifest"
      href="{{ url_for('static', filename='manifest.json') }}"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="{{ url_for('static', filename='images/favicon.png') }}"
    />
    <meta name="theme-color" content="#14E6DD" />
  </head>
  <body>
    <main>
      <nav>
        <img
          src="{{ url_for('static', filename='images/logo.svg') }}"
          alt="The secure website logo."
        />
        <h1>The Secure PWA</h1>
        <ul class="topnav">
          <li><a href="{{ url_for('home') }}">Home</a></li>
          <li><a href="{{ url_for('signup') }}">Signup</a></li>
          {% if state %}
          <li><a href="{{ url_for('addFeedback') }}">Success</a></li>
          <li><a href="{{ url_for('home') }}">Logout</a></li>
          {% endif %}
        </ul>
      </nav>
      <div class="disclaimer">
        <em>This app has been secured but should not store real data.</em>
      </div>
      {% block content %}{% endblock %}
    </main>

    <script src="{{ url_for('static', filename='js/serviceWorker.js') }}"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
  </body>
</html>
